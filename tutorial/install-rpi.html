<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">

    <title>BigClown Labs - Raspberry Pi - Installation</title>

    <link href="/stylesheets/main.css" rel="stylesheet" />

      <!-- Google Tag Manager -->
      <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-N2WMQSW');
</script>
  </head>

  <body>
      <!-- Google Tag Manager (noscript) -->
      <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-N2WMQSW" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>

    <header>
  <a href="http://doc.bigclown.com/">
    <img src="/images/bigclown-logo.svg" alt="BigClown - Open-Source Electronics" class="header-logo" />
  </a>
</header>


    <input type="checkbox" id="navbar-toggle" role="button" />
<label for="navbar-toggle">
  <span class="icon-burger"></span>
</label>

<nav class="navbar">
  <ul>
  <li class="level1">
      <a href="/projects/">Projects</a>
      <ul>
  <li class="level2">
      <a href="/projects/bridge.html">Bridge Project</a>
  </li>
  <li class="level2">
      <a href="/projects/workroom.html">Workroom Project</a>
  </li>
</ul>

  </li>
  <li class="level1">
      Tutorials
      <ul>
  <li class="level2">
      <a href="/tutorial/blynk.html">Blynk – Mobile App Builder</a>
  </li>
  <li class="level2">
      <a href="/tutorial/core-module.html">Core Module</a>
  </li>
  <li class="level2">
      <a href="/tutorial/ifttt.html">IFTTT – If This Then That</a>
  </li>
  <li class="level2">
      <a href="/tutorial/mosquitto.html">Mosquitto – MQTT Broker</a>
  </li>
  <li class="level2">
      <a href="/tutorial/node-red.html">Node RED – Visual Tool for IoT</a>
  </li>
  <li class="level2">
      <a href="/tutorial/install-rpi.html" class="current">Raspberry Pi – Installation</a>
  </li>
</ul>

  </li>
  <li class="level1">
      <a href="/academy/">Academy</a>
      <ul>
  <li class="level2">
      <a href="/academy/clown-talk.html">Clown.Talk & Clown.Model</a>
  </li>
  <li class="level2">
      <a href="/academy/i2c.html">I²C – Communication Interface</a>
  </li>
  <li class="level2">
      <a href="/academy/mqtt.html">MQTT – Messaging via Broker</a>
  </li>
  <li class="level2">
      <a href="/academy/websocket.html">WebSocket – Real-time Protocol</a>
  </li>
</ul>

  </li>
  <li class="level1">
      <a href="/hardware/">Hardware Description</a>
  </li>
</ul>

</nav>


    <div id="main-wrapper">
      <div class="toolbar">
  <ul class="toolbar-actions">
    <li>
      <a href="https://github.com/bigclownlabs/bc-doc/edit/master/source/tutorial/install-rpi.adoc" rel="external" title="Edit on GitHub">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon"><use xlink:href="#icon-pencil" /></svg><span class="icon-label">Improve this page</span>
      </a>
    </li>
  </ul>
</div>


      <article class="main-content tutorial tutorial_install-rpi">
        <h1>
          Raspberry Pi - Installation
        </h1>
        <div id="preamble">
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
If you already have your Raspberry Pi with Raspbian running on it, you can skip to <a href="#_install_bigclown_packages_on_existing_system">this section</a> to see how to install BigClown packages to your existing system..
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>This tutorial will guide you through a step-by-step installation procedure of Raspberry Pi.
It has been tested on Raspberry Pi 3 (Model B) but it will probably work on Raspberry Pi 2 as well.</p>
</div>
<div class="paragraph">
<p>We will install BigClown&#8217;s version of Raspbian - the official and the most popular Linux distribution for Raspberry Pi.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_what_is_needed"><a class="anchor" href="#_what_is_needed"></a>What is needed?</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Raspberry Pi 3 (Model B)</p>
</li>
<li>
<p>Minimum 4 GB MicroSD card</p>
</li>
<li>
<p>MicroSD card reader</p>
</li>
<li>
<p>Ethernet cable</p>
</li>
<li>
<p>Desktop or laptop PC</p>
</li>
<li>
<p>Router (or LAN switch) with configured DHCP server</p>
</li>
<li>
<p>Operating system with one of these:</p>
<div class="ulist">
<ul>
<li>
<p>Windows 7, 8.x, 10 (32-bit or 64-bit version)</p>
</li>
<li>
<p>macOS (tested with 10.12.1)</p>
</li>
<li>
<p>Linux (tested with Ubuntu 16.04 LTS)</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_prepare_the_microsd_card"><a class="anchor" href="#_prepare_the_microsd_card"></a>Prepare the MicroSD card</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Insert the MicroSD card to the MicroSD card reader.</p>
</li>
<li>
<p>Download the latest release of BigClown&#8217;s Raspbian image from
<a href="https://github.com/bigclownlabs/bc-raspbian/releases/download/v1.0.1/bc-raspbian-v1.0.1-armhf-rpi.zip">this link</a>.</p>
</li>
</ol>
</div>
<div class="sect2">
<h3 id="_on_windows_desktop"><a class="anchor" href="#_on_windows_desktop"></a>On Windows desktop</h3>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Unzip the downloaded image.<br>
You can use <a href="http://www.7-zip.org">7-Zip</a> to do it.</p>
</li>
<li>
<p>Write <code>bc-raspbian-v1.0.1-armhf-rpi.img</code> to the MicroSD card.<br>
You can use <a href="https://sourceforge.net/projects/win32diskimager/files/latest/download">Win32 Disk Imager</a> to do it.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Win32 Disk Imager must be run under administrator privileges.
</td>
</tr>
</table>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_on_macos_desktop"><a class="anchor" href="#_on_macos_desktop"></a>On macOS desktop</h3>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Open Terminal and navigate to your folder with downloads, for example:</p>
<div class="literalblock">
<div class="content">
<pre>cd ~/Downloads</pre>
</div>
</div>
</li>
<li>
<p>Unzip the downloaded image:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="sh">unzip bc-raspbian-v1.0.1-armhf-rpi.zip</code></pre>
</div>
</div>
</li>
<li>
<p>Insert the MicroSD card to your Mac and find out what is the disk identifier (it will be /dev/diskX):</p>
<div class="literalblock">
<div class="content">
<pre>diskutil list</pre>
</div>
</div>
</li>
<li>
<p>You have to unmount the disk (replace X with the appropriate identifier):</p>
<div class="literalblock">
<div class="content">
<pre>diskutil unmountDisk /dev/diskX</pre>
</div>
</div>
</li>
<li>
<p>Write the image to the MicroSD card (replace X with the appropriate identifier):</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="sh">sudo dd if=bc-raspbian-v1.0.1-armhf-rpi.img of=/dev/rdiskX bs=1m</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
“sudo” means the process will start with administrator privileges and may require your account password (if you are eligible for administrator rights).
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>This will take some time.
If you get a “permission denied” message, please make sure your MicroSD card is not write-protected (e.g. by SD card adapter).</p>
</div>
</li>
<li>
<p>Eject the card (replace X with the appropriate identifier):</p>
<div class="literalblock">
<div class="content">
<pre>diskutil eject /dev/diskX</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_on_linux_desktop"><a class="anchor" href="#_on_linux_desktop"></a>On Linux desktop</h3>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Open Terminal and navigate to your folder with downloads, for example:</p>
<div class="literalblock">
<div class="content">
<pre>cd ~/Downloads</pre>
</div>
</div>
</li>
<li>
<p>Unzip the downloaded image:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="sh">unzip bc-raspbian-v1.0.1-armhf-rpi.zip</code></pre>
</div>
</div>
</li>
<li>
<p>Insert the MicroSD card to your Linux desktop and find out what is the disk identifier (it will be /dev/sdX):</p>
<div class="literalblock">
<div class="content">
<pre>lsblk</pre>
</div>
</div>
</li>
<li>
<p>You have to unmount all disk partitions (replace X with the appropriate identifier):</p>
<div class="literalblock">
<div class="content">
<pre>sudo umount /dev/sdX?</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
“sudo” means the process will start with administrator privileges and may require your account password (if you are eligible for administrator rights).
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Write the image to the card (replace X with the appropriate identifier):</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="sh">sudo dd if=bc-raspbian-v1.0.1-armhf-rpi.img of=/dev/sdX bs=1M status=progress</code></pre>
</div>
</div>
<div class="paragraph">
<p>This will take some time.
If you get a “permission denied” message, please make sure your MicroSD card is not write-protected (e.g. by an SD card adapter).</p>
</div>
</li>
<li>
<p>Eject the MicroSD card (replace X with the appropriate identifier):</p>
<div class="literalblock">
<div class="content">
<pre>eject /dev/sdX</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_start_raspberry_pi"><a class="anchor" href="#_start_raspberry_pi"></a>Start Raspberry Pi</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Insert the MicroSD card to Raspberry Pi.</p>
</li>
<li>
<p>Connect the Ethernet cable to Raspberry Pi.</p>
</li>
<li>
<p>Connect the USB power adapter to Raspberry Pi.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_log_in_to_raspberry_pi"><a class="anchor" href="#_log_in_to_raspberry_pi"></a>Log-in to Raspberry Pi</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Next step is to login to Raspberry Pi via SSH terminal.</p>
</div>
<div class="paragraph">
<p>You can access the device in two ways:</p>
</div>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Using IP address (you have to determine what is the assigned address from the DHCP server).</p>
</li>
<li>
<p>Using zeroconf mechanism by accessing <code>hub.local</code> host (this mechanism should work on any recent desktop).</p>
</li>
</ol>
</div>
<div class="sect2">
<h3 id="_on_windows_desktop_2"><a class="anchor" href="#_on_windows_desktop_2"></a>On Windows desktop</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Download <a href="http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html">PuTTY</a>.</p>
</li>
<li>
<p>Open PuTTY and open SSH session:</p>
<div class="ulist">
<ul>
<li>
<p>Use hostname: <code>hub.local</code> or <em>IP address of Raspberry Pi</em></p>
</li>
<li>
<p>Use login: <code>pi</code></p>
</li>
<li>
<p>Use password: <code>raspberry</code></p>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_on_os_x_linux_desktop"><a class="anchor" href="#_on_os_x_linux_desktop"></a>On OS X &amp; Linux desktop</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Open Terminal and connect to Raspberry Pi:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>using IP address:</p>
<div class="literalblock">
<div class="content">
<pre>ssh pi@(IP address of Raspberry Pi)</pre>
</div>
</div>
</li>
<li>
<p>or using zeroconf name:</p>
<div class="literalblock">
<div class="content">
<pre>ssh pi@hub.local</pre>
</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Enter password: <code>raspberry</code></p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_update_your_installation"><a class="anchor" href="#_update_your_installation"></a>Update your installation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>At the first time you log in do NOT forget to change the default password:
You can do it with the following command:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>passwd</pre>
</div>
</div>
<div class="paragraph">
<p>For security and stability reasons it is wise to keep your system updated.</p>
</div>
<div class="paragraph">
<p>Run this command to update the system:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>sudo apt-get update &amp;&amp; sudo apt-get upgrade</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_differences_from_the_official_raspbian"><a class="anchor" href="#_differences_from_the_official_raspbian"></a>Differences from the official Raspbian</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Why have we created our own deployment of Raspbian distribution?
We wanted to simplify the installation process for users and automate some of our own stuff (we use Travis CI for automation).</p>
</div>
<div class="paragraph">
<p>This is a brief description of changes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Hostname is <code>hub</code> instead of <code>raspberrypi</code>.</p>
</li>
<li>
<p>Timezone is set to Europe/Prague.</p>
</li>
<li>
<p>The following repositories have been added to APT sources:</p>
<div class="ulist">
<ul>
<li>
<p><a href="https://repo.bigclown.com" class="bare">https://repo.bigclown.com</a></p>
</li>
<li>
<p><a href="https://apt.dockerproject.org/repo" class="bare">https://apt.dockerproject.org/repo</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Installed packages:</p>
<div class="ulist">
<ul>
<li>
<p>mosquitto</p>
</li>
<li>
<p>mosquitto-clients</p>
</li>
<li>
<p>docker</p>
</li>
<li>
<p>htop</p>
</li>
<li>
<p>git</p>
</li>
<li>
<p>python3.4</p>
</li>
<li>
<p>python3-paho-mqtt</p>
</li>
<li>
<p>python3-venv</p>
</li>
<li>
<p>python3-pip</p>
</li>
<li>
<p>docker-engine</p>
</li>
<li>
<p>bc-common</p>
</li>
<li>
<p>bc-gateway</p>
</li>
<li>
<p>bc-workroom-led-strip</p>
</li>
<li>
<p>bc-workroom-blynk</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_install_bigclown_packages_on_existing_system"><a class="anchor" href="#_install_bigclown_packages_on_existing_system"></a>Install BigClown packages on existing system</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Follow this procedure only if you have already running Raspberry Pi with Raspbian distribution on it and you have skipped all the previous steps.
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Log in to SSH terminal.</p>
</li>
<li>
<p>Add BigClown APT repository to sources list:</p>
<div class="literalblock">
<div class="content">
<pre>sudo sh -c 'echo "deb https://repo.bigclown.com/debian jessie main" &gt;/etc/apt/sources.list.d/bigclown.list'</pre>
</div>
</div>
</li>
<li>
<p>Start APT PGP key installation process:</p>
<div class="literalblock">
<div class="content">
<pre>sudo apt-key add -</pre>
</div>
</div>
</li>
<li>
<p>Copy the following block to clipboard and paste it to terminal:</p>
<div class="listingblock">
<div class="content">
<pre>-----BEGIN PGP PUBLIC KEY BLOCK-----
Version: GnuPG v1

mQENBFhTX8MBCACl/4PIfFQI6A3q2nN9VD7URLxzitAzVGI3qzRiiKxeiuMqaAnc
TVS+FsNac/8sWVXmfh1Umhov5z6I4zg67/In+h6dkmbrCu8Ii6f7qlaIIqp2h3+y
Et3CVDy8lYaciq7hnIcmHUJmJ/tx99AX8Mf+WdLHOwM7XkdkfoWN5GCX+MOfoYuh
xAdYrRMFNgXyV7ZB8BTZLV2nrd2ZnoQGq59KxhfsCniG+ONL/XIkKTRRaFRP7pZy
wAazHyoWA1vC4bu3fGr2uzhw2UuhnlTyYL1K2OaE8aamBBzv44N7osrKmrIqxH/1
Fx7Gi7K/24uso/mvRXhoEQKGQm/nwy9FLMQFABEBAAG0P0JpZ0Nsb3duIExhYnMg
KEtleSBmb3Igc2lnbmluZyBwYWNrYWdlcykgPHN1cHBvcnRAYmlnY2xvd24uY29t
PokBPQQTAQoAJwUCWFNfwwIbAwUJEswDAAULCQgHAwUVCgkICwUWAwIBAAIeAQIX
gAAKCRBgUdWrLVBRSyVkB/0fL4VcSsl+15rcHTTu4QH2d6pvnuEZDrDqgzoSeoH0
oH5O1HKx0m6fL9S2947W8eIJKdSUL+AH82qtI2HrfCyHg1JZfTb3fB+cFxU31wfb
bE1CzP//WW7xWvd5HbbA8PuvMPMDt1NtBiETDEsJAKE2rzV7psD4e1ZER5Kf65sQ
vTsJKkhC5gyZKNMm4lBzgJEiO1YMmRhg5qjuZbJ1JsE55ZbxEpZUB4ymU4jXijzr
jNU3FOHlCxDue9IdYTpA/dYlSbRgK/2amF3J/FIkCJ6imKfup3kooDkNM9Gq/lfK
j90SHmKdGgYdLvGGEo7o8nyAogqMaPpvEEYsa3Vxejx8uQENBFhTX8MBCADkOF8f
d261IksPxtNPZBiTRwkjf3+/cdaaT1ERcjc3rWPsnqhGIzZC8el0dh2dTbnd0bLP
OHxKciKUvy4WtE5KrQXVaS29E7Y5JteQQf3XNeCELRcQkHBmISXnV2MTGylulxzn
tuuYS3EysvcSkx0pxETCiZnF3pmnWRhZTjz2y5cR9Sty40HFvPoSMLMvrYLhM4cO
xoz3pO/YE2B3oeou+mzyz7/ojAelNRop/0rRIszwWn1cRfq6ctA6cYnL1+QfMusr
hTL5VvlWTuHGEXlJBt8YBqZdevoDRWuJvQOwmDKp9IYsIqdvhTYrjnfz5M557Dpz
npYrNtIz9oomC3IDABEBAAGJASUEGAEKAA8FAlhTX8MCGwwFCRLMAwAACgkQYFHV
qy1QUUuUqAf9FR/eXnAVBa2r5wiZgsX5R4xztFwyXNst7jiVerN4/XHnXD9u0h7Y
F+i+EPaykRM489v8iC7dXDgbUnnsmAuA3DOEzdZzEveAs4m27fhB8lKq/3DjvyRP
fm5oLhoS1IlCoXPY4C20FWrX64vwPwmYqTPcMFjhdTdbhV/MueFMKGxtrxtuhm9J
tt5wMmjN3F0clpQa+zhCFDMzjAJN1L4PM/wPpyake5BZ/2KotVRHtw8fkOgIKeCu
omjViitWs41H3J8mVNZzFV/BTsli4HkIYbnXEQOFvSLZRUPju7dvgxvBEMbJAULw
BzgkAJGkucF6sgAXx5QiItVAbyLb668+/Q==
=+XAF
-----END PGP PUBLIC KEY BLOCK-----</pre>
</div>
</div>
</li>
<li>
<p>Now press Enter and then press Ctrl+D. You should see an <code>OK</code> response in terminal.</p>
</li>
<li>
<p>Update your existing installation:</p>
<div class="literalblock">
<div class="content">
<pre>sudo apt-get update &amp;&amp; sudo apt-get upgrade</pre>
</div>
</div>
</li>
<li>
<p>Now you can install the individual packages:</p>
<div class="ulist">
<ul>
<li>
<p>Basic package for Workroom project (hardware interface):</p>
<div class="literalblock">
<div class="content">
<pre>sudo apt-get install bc-workroom-gateway</pre>
</div>
</div>
</li>
<li>
<p>LED strip plugin for Workroom project:</p>
<div class="literalblock">
<div class="content">
<pre>sudo apt-get install bc-workroom-led-strip</pre>
</div>
</div>
</li>
<li>
<p>Blynk plugin for Workroom project:</p>
<div class="literalblock">
<div class="content">
<pre>sudo apt-get install bc-workroom-blynk</pre>
</div>
</div>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
</div>
      </article>

      <footer>
  This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>.
</footer>

    </div>

    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
     version="1.1"
     style="position: absolute; width: 0; height: 0; overflow: hidden;">
  <defs>
    <symbol id="icon-pencil" viewBox="0 0 28 32">
      <title>pencil</title>
      <path d="M22 2l-4 4 6 6 4-4-6-6zM0 24l0.021 6.018 5.979-0.018 16-16-6-6-16 16zM6 28h-4v-4h2v2h2v2z"/>
    </symbol>
  </defs>
</svg>

  </body>
</html>
